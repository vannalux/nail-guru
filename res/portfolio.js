const portfolio=function(e){if(void 0!==e.id&&void 0!==e.sizes&&void 0!==e.items_margin_hor&&void 0!==e.items_margin_ver&&void 0!==e.items_height){const d=`#${e.id} .portfolio__container-items`;var c=document.querySelector("#"+e.id);const y=c.querySelector(".portfolio__container"),u=c.querySelector(".portfolio__container-items"),g=c.querySelector(".portfolio__search-bar__sort-field__text"),h=c.querySelector(".portfolio__search-bar__sort-field__dropdown > ul"),f=c.querySelectorAll(".portfolio__card"),_=c.querySelector(".portfolio__search-bar__search-field > input"),p=c.querySelectorAll(".portfolio__category-bar li"),m=e.sizes,v=parseFloat(e.items_margin_hor),w=parseFloat(e.items_margin_ver),E=parseFloat(e.items_height);let s=null,n="*",l="";const L={fade:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1"},out:{opacity:"0"}},zoomIn:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"scale(1)"},out:{opacity:"0",transform:"scale(0.5)"}},rotateInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(-45deg)"}},rotateInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(45deg)"}},fadeInUp:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(50%)"}},fadeInDown:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(-50%)"}},fadeInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(-50%)"}},fadeInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(50%)"}},flipInX:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateX(0)"},out:{opacity:"0",transform:"rotateX(90deg)"}},flipInY:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateY(0)"},out:{opacity:"0",transform:"rotateY(90deg)"}}};let t=e.items_effect||"fade";{0<p.length&&((c=p[0].querySelector("a")).classList.add("active"),n=c.getAttribute("data-category-id"));s=new Muuri(d,{layout:function(t,e,h,o,a,f){var _={id:e,items:h,slots:[],styles:{}},r=window.setTimeout(function(){var o,l,t,d;let e="";if("undefined"!=typeof x5engine)t=x5engine.responsive.getCurrentBreakPoint().hash,e=m[t].items_per_row;else{o=document.querySelector("body").clientWidth;for(const u in m)void 0===m[u].breakpoint_min?void 0!==m[u].breakpoint_max&&o<parseFloat(m[u].breakpoint_max)&&(e=m[u].items_per_row):o>parseFloat(m[u].breakpoint_min)&&(void 0===m[u].breakpoint_max||o<parseFloat(m[u].breakpoint_max))&&(e=m[u].items_per_row)}a=e;var a,r=(y.clientWidth-v*(a-1))/a,i=E,s=parseInt(h.length/e)+(0<h.length%e?1:0),n=e;for(let g=0;g<s;g++)for(let t=0;t<n;t++){if(l=e*g+t,l>=h.length)break;var l=h[l],l=(l.getElement().style.width=r+"px",l.getElement().style.height=i+"px",t*r+t*v),c=g*i+g*w;_.slots.push(l,c)}t=n*r+(n-1)*v;d=s*E+(s-1)*w;_.styles.width=t+"px";_.styles.height=d+"px";f(_)},10);return function(){window.clearTimeout(r)}},layoutDuration:L[t].showDuration,visibleStyles:L[t].in,hiddenStyles:L[t].out,showDuration:L[t].showDuration,showEasing:L[t].showEasing,hideDuration:L[t].hideDuration,hideEasing:L[t].hideEasing,layoutDuration:500,layoutOnResize:50,sortData:{"default":(t,e)=>e.getAttribute("data-index"),title:(t,e)=>e.querySelector(".portfolio__card__overlay__title")?e.querySelector(".portfolio__card__overlay__title").textContent.toLowerCase():"",date:(t,e)=>e.getAttribute("data-ts")}}).on("layoutEnd",()=>{u.classList.toggle("hidden",!1);var t=s.getItems().filter(t=>t.isActive());u.classList.toggle("no-items",0===t.length)});"*"!==n&&s.filter(t=>t.getElement().className.includes(n),{instant:!0});null!==_&&_.addEventListener("keyup",t=>{l=t.currentTarget.value,r()});0<p.length&&p.forEach(t=>{t.querySelector("a").addEventListener("click",t=>{t.preventDefault(),n=t.currentTarget.getAttribute("data-category-id"),o(n),r()})});let e=!1,a=(s.getItems().forEach(t=>{null!==t.getElement().querySelector(".portfolio__card__bottom-bar__date")&&(e=!0)}),!1===e&&null!==h&&h.querySelectorAll('li[data-value^="date_"]').forEach(t=>{t.style.display="none"}),null!==g&&(g.addEventListener("click",()=>{h.classList.toggle("open")}),h.querySelectorAll("li").forEach(t=>{t.addEventListener("click",t=>{var e=t.currentTarget,e=(g.querySelector("span").innerHTML=e.innerHTML,h.classList.toggle("open",!1),e.getAttribute("data-value"));"date_desc"===e?s.sort("date",{descending:!0}):"date_asc"===e?s.sort("date"):s.sort(e)})})),{}),o=(f.forEach((t,o)=>{"ontouchstart"in window?(t.classList.contains("overlay-effect-follow")&&t.classList.replace("overlay-effect-follow","overlay-effect-appear-central"),t.addEventListener("click",t=>{"number"==typeof a[o]&&clearTimeout(a[o]);let e=t.currentTarget;!1===e.classList.contains("showOverlay")&&(t.preventDefault(),t.stopPropagation());e.classList.toggle("showOverlay",!0);a[o]=setTimeout(()=>{e.classList.toggle("showOverlay",!1)},5e3)},!0)):t.classList.contains("overlay-effect-follow")?(t.addEventListener("mouseenter",t=>{var e=i(t);let o=t.target,a=(o.setAttribute("data-dir",e),o.querySelector(".portfolio__card__overlay__content"));a.style.transitionProperty="none";a.style.transform=`translate(${"left"===e?"-105%":"right"===e?"105%":"0%"}, ${"top"===e?"-105%":"bottom"===e?"105%":"0%"})`;window.setTimeout(()=>{o.classList.toggle("showOverlay",!0),a.style.transitionProperty="transform",a.style.transform="translate(0, 0)"},0)}),t.addEventListener("mousemove",t=>{var e=i(t);t.currentTarget.setAttribute("data-dir",e)}),t.addEventListener("mouseleave",t=>{var e=t.target,o=e.getAttribute("data-dir");e.querySelector(".portfolio__card__overlay__content").style.transform=`translate(${"left"===o?"-105%":"right"===o?"105%":"0%"}, ${"top"===o?"-105%":"bottom"===o?"105%":"0%"})`;e.classList.toggle("showOverlay",!1)})):(t.addEventListener("mouseenter",t=>{t.target.classList.toggle("showOverlay",!0)}),t.addEventListener("mouseleave",t=>{t.target.classList.toggle("showOverlay",!1)}))}),o=>{p.forEach(t=>{var e=t.querySelector("a");e.classList.toggle("active",e.getAttribute("data-category-id")===o)})}),r=()=>{s.filter(t=>{var e=t.getElement(),a;let o=!1;a=e.querySelector(".portfolio__card__overlay__title");a=(null!==a&&a.textContent.toLowerCase().includes(l.toLowerCase())&&(o=!0),e.querySelector(".portfolio__card__overlay__description"));null!==a&&a.textContent.toLowerCase().includes(l.toLowerCase())&&(o=!0);e.getAttribute("data-category-text").toLowerCase().includes(l.toLowerCase())&&(o=!0);let r=!0;return"*"!==n&&(r=e.getAttribute("data-category-id")===n),!(!o||!r)},{onFinish:()=>{}})},i=t=>{var e=t.target.getBoundingClientRect(),o=t.clientX-e.left,a=t.clientY-e.top,r="left",i=o,o=e.width-o,o=(o<i&&(r="right",i=o),a),o=(o<i&&(r="top",i=o),e.height-a);return o<i&&(r="bottom",i=o),r}}}else console.log("Portfolio error: missing parameters")}