const portfolio=function(e){if(void 0!==e.id&&void 0!==e.sizes&&void 0!==e.items_margin_hor&&void 0!==e.items_margin_ver&&void 0!==e.items_height){const d=`#${e.id} .portfolio__container-items`;var c=document.querySelector("#"+e.id);const p=c.querySelector(".portfolio__container"),u=c.querySelector(".portfolio__container-items"),g=c.querySelector(".portfolio__search-bar__sort-field__text"),_=c.querySelector(".portfolio__search-bar__sort-field__combobox"),f=c.querySelector(".portfolio__search-bar__sort-field__dropdown > ul"),h=c.querySelectorAll(".portfolio__card"),y=c.querySelector(".portfolio__search-bar__search-field > input"),m=c.querySelectorAll(".portfolio__category-bar li"),v=e.sizes,w=parseFloat(e.items_margin_hor),E=parseFloat(e.items_margin_ver),L=parseFloat(e.items_height);let s=null,n="*",l="";const b={fade:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1"},out:{opacity:"0"}},zoomIn:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"scale(1)"},out:{opacity:"0",transform:"scale(0.5)"}},rotateInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(-45deg)"}},rotateInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotate(0deg)"},out:{opacity:"0",transform:"rotate(45deg)"}},fadeInUp:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(50%)"}},fadeInDown:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateY(0)"},out:{opacity:"0",transform:"translateY(-50%)"}},fadeInLeft:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(-50%)"}},fadeInRight:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"translateX(0)"},out:{opacity:"0",transform:"translateX(50%)"}},flipInX:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateX(0)"},out:{opacity:"0",transform:"rotateX(90deg)"}},flipInY:{showDuration:500,showEasing:"ease",hideDuration:500,hideEasing:"ease","in":{opacity:"1",transform:"rotateY(0)"},out:{opacity:"0",transform:"rotateY(90deg)"}}};let t=e.items_effect||"fade";{0<m.length&&((c=m[0].querySelector("a")).classList.add("active"),n=c.getAttribute("data-category-id"));s=new Muuri(d,{layout:function(t,e,_,a,o,f){var h={id:e,items:_,slots:[],styles:{}},r=window.setTimeout(function(){var a,l,t,d;let e="";if("undefined"!=typeof x5engine)t=x5engine.responsive.getCurrentBreakPoint().hash,e=v[t].items_per_row;else{a=document.querySelector("body").clientWidth;for(const u in v)void 0===v[u].breakpoint_min?void 0!==v[u].breakpoint_max&&a<parseFloat(v[u].breakpoint_max)&&(e=v[u].items_per_row):a>parseFloat(v[u].breakpoint_min)&&(void 0===v[u].breakpoint_max||a<parseFloat(v[u].breakpoint_max))&&(e=v[u].items_per_row)}o=e;var o,r=(p.clientWidth-w*(o-1))/o,i=L,s=parseInt(_.length/e)+(0<_.length%e?1:0),n=e;for(let g=0;g<s;g++)for(let t=0;t<n;t++){if(l=e*g+t,l>=_.length)break;var l=_[l],l=(l.getElement().style.width=r+"px",l.getElement().style.height=i+"px",t*r+t*w),c=g*i+g*E;h.slots.push(l,c)}t=n*r+(n-1)*w;d=s*L+(s-1)*E;h.styles.width=t+"px";h.styles.height=d+"px";f(h)},10);return function(){window.clearTimeout(r)}},layoutDuration:b[t].showDuration,visibleStyles:b[t].in,hiddenStyles:b[t].out,showDuration:b[t].showDuration,showEasing:b[t].showEasing,hideDuration:b[t].hideDuration,hideEasing:b[t].hideEasing,layoutDuration:500,layoutOnResize:50,sortData:{"default":(t,e)=>e.getAttribute("data-index"),title:(t,e)=>e.querySelector(".portfolio__card__overlay__title")?e.querySelector(".portfolio__card__overlay__title").textContent.toLowerCase():"",date:(t,e)=>e.getAttribute("data-ts")}}).on("layoutEnd",()=>{u.classList.toggle("hidden",!1);var t=s.getItems().filter(t=>t.isActive());u.classList.toggle("no-items",0===t.length)});"*"!==n&&s.filter(t=>t.getElement().className.includes(n),{instant:!0});null!==y&&y.addEventListener("keyup",t=>{l=t.currentTarget.value,r()});0<m.length&&m.forEach(t=>{t.querySelector("a").addEventListener("click",t=>{t.preventDefault(),n=t.currentTarget.getAttribute("data-category-id"),a(n),r()})});let e=!1,o=(s.getItems().forEach(t=>{null!==t.getElement().querySelector(".portfolio__card__bottom-bar__date")&&(e=!0)}),!1===e&&null!==f&&f.querySelectorAll('li[data-value^="date_"]').forEach(t=>{t.style.display="none"}),null!==g&&(g.addEventListener("click",()=>{f.classList.toggle("open"),_.setAttribute("aria-expanded","true"==_.getAttribute("aria-expanded")?"false":"true")}),f.querySelectorAll("li").forEach(t=>{t.addEventListener("click",t=>{var e=t.currentTarget,e=(g.querySelector("span").innerHTML=e.innerHTML,_.setAttribute("aria-label",e.innerHTML),f.classList.toggle("open",!1),_.setAttribute("aria-expanded","false"),e.getAttribute("data-value"));"date_desc"===e?s.sort("date",{descending:!0}):"date_asc"===e?s.sort("date"):s.sort(e);s.synchronize()})})),{}),a=(h.forEach((t,a)=>{"ontouchstart"in window?(t.classList.contains("overlay-effect-follow")&&t.classList.replace("overlay-effect-follow","overlay-effect-appear-central"),t.addEventListener("click",t=>{"number"==typeof o[a]&&clearTimeout(o[a]);let e=t.currentTarget;!1===e.classList.contains("showOverlay")&&(t.preventDefault(),t.stopPropagation());e.classList.toggle("showOverlay",!0);o[a]=setTimeout(()=>{e.classList.toggle("showOverlay",!1)},5e3)},!0)):t.classList.contains("overlay-effect-follow")?(t.addEventListener("mouseenter",t=>{var e=i(t);let a=t.target,o=(a.setAttribute("data-dir",e),a.querySelector(".portfolio__card__overlay__content"));o.style.transitionProperty="none";o.style.transform=`translate(${"left"===e?"-105%":"right"===e?"105%":"0%"}, ${"top"===e?"-105%":"bottom"===e?"105%":"0%"})`;window.setTimeout(()=>{a.classList.toggle("showOverlay",!0),o.style.transitionProperty="transform",o.style.transform="translate(0, 0)"},0)}),t.addEventListener("mousemove",t=>{var e=i(t);t.currentTarget.setAttribute("data-dir",e)}),t.addEventListener("mouseleave",t=>{var e=t.target,a=e.getAttribute("data-dir");e.querySelector(".portfolio__card__overlay__content").style.transform=`translate(${"left"===a?"-105%":"right"===a?"105%":"0%"}, ${"top"===a?"-105%":"bottom"===a?"105%":"0%"})`;e.classList.toggle("showOverlay",!1)})):(t.addEventListener("mouseenter",t=>{t.target.classList.toggle("showOverlay",!0)}),t.addEventListener("mouseleave",t=>{t.target.classList.toggle("showOverlay",!1)})),t.querySelectorAll(".portfolio__card__overlay__content div, .portfolio__card__overlay__content a").forEach(t=>{t.addEventListener("focus",t=>{(t.target.parentElement.classList.contains("portfolio__card__overlay__content")?t.target:t.target.parentElement).parentElement.classList.toggle("focused",!0)}),t.addEventListener("blur",t=>{(t.target.parentElement.classList.contains("portfolio__card__overlay__content")?t.target:t.target.parentElement).parentElement.classList.toggle("focused",!1)})})}),a=>{m.forEach(t=>{var e=t.querySelector("a");e.classList.toggle("active",e.getAttribute("data-category-id")===a)})}),r=()=>{s.filter(t=>{var e=t.getElement(),o;let a=!1;o=e.querySelector(".portfolio__card__overlay__title");o=(null!==o&&o.textContent.toLowerCase().includes(l.toLowerCase())&&(a=!0),e.querySelector(".portfolio__card__overlay__description"));null!==o&&o.textContent.toLowerCase().includes(l.toLowerCase())&&(a=!0);e.getAttribute("data-category-text").toLowerCase().includes(l.toLowerCase())&&(a=!0);let r=!0;return"*"!==n&&(r=e.getAttribute("data-category-id")===n),!(!a||!r)},{onFinish:()=>{}})},i=t=>{var e=t.target.getBoundingClientRect(),a=t.clientX-e.left,o=t.clientY-e.top,r="left",i=a,a=e.width-a,a=(a<i&&(r="right",i=a),o),a=(a<i&&(r="top",i=a),e.height-o);return a<i&&(r="bottom",i=a),r}}}else console.log("Portfolio error: missing parameters")}